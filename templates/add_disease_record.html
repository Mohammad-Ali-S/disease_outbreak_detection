<!-- templates/add_disease_record.html -->
{% extends "base.html" %}

{% block title %}Add Disease Record - DODS{% endblock %}

{% block content %}
<h1 style="margin-bottom: 2rem; color: #667eea;">ğŸ¦  Add Disease Record</h1>

<div class="card">
    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 2rem;">
        <h3 style="color: #333; margin-bottom: 0.5rem;">Patient Information</h3>
        <p><strong>Patient ID:</strong> {{ patient.patient_id }}</p>
        <p><strong>Name:</strong> {{ patient.name }}</p>
        <p><strong>Age:</strong> {{ patient.age }} | <strong>Gender:</strong> {{ patient.gender }}</p>
        <p><strong>Location:</strong> {{ patient.city }}, {{ patient.state }}</p>
    </div>
    
    <div class="card-header">Select Disease Type</div>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        <div class="disease-card" onclick="selectDisease('COVID19')" style="cursor: pointer; padding: 2rem; border: 3px solid #e0e0e0; border-radius: 15px; text-align: center; transition: all 0.3s;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¦ </div>
            <h3 style="color: #333; margin-bottom: 0.5rem;">COVID-19</h3>
            <p style="color: #666; font-size: 0.9rem;">Coronavirus Disease</p>
        </div>
        
        <div class="disease-card" onclick="selectDisease('Cholera')" style="cursor: pointer; padding: 2rem; border: 3px solid #e0e0e0; border-radius: 15px; text-align: center; transition: all 0.3s;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ’§</div>
            <h3 style="color: #333; margin-bottom: 0.5rem;">Cholera</h3>
            <p style="color: #666; font-size: 0.9rem;">Acute Diarrheal Disease</p>
        </div>
        
        <div class="disease-card" onclick="selectDisease('HIV')" style="cursor: pointer; padding: 2rem; border: 3px solid #e0e0e0; border-radius: 15px; text-align: center; transition: all 0.3s;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ”¬</div>
            <h3 style="color: #333; margin-bottom: 0.5rem;">HIV/AIDS</h3>
            <p style="color: #666; font-size: 0.9rem;">Immunodeficiency Virus</p>
        </div>
        
        <div class="disease-card" onclick="selectDisease('SwineFlu')" style="cursor: pointer; padding: 2rem; border: 3px solid #e0e0e0; border-radius: 15px; text-align: center; transition: all 0.3s;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ·</div>
            <h3 style="color: #333; margin-bottom: 0.5rem;">Swine Flu</h3>
            <p style="color: #666; font-size: 0.9rem;">H1N1 Influenza</p>
        </div>
    </div>
    
    <div style="text-align: center;">
        <button class="btn btn-danger" onclick="history.back()">â† Back to Patients</button>
    </div>
</div>

<style>
    .disease-card:hover {
        border-color: #667eea !important;
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    function selectDisease(diseaseType) {
        const patientId = {{ patient.id }};
        
        // Redirect to specific disease form with patient_id
        const formUrls = {
            'COVID19': `/user/disease-forms/covid19?patient_id=${patientId}`,
            'Cholera': `/user/disease-forms/cholera?patient_id=${patientId}`,
            'HIV': `/user/disease-forms/hiv?patient_id=${patientId}`,
            'SwineFlu': `/user/disease-forms/swineflu?patient_id=${patientId}`
        };
        
        // Navigate to disease form
        window.location.href = formUrls[diseaseType];
    }
</script>
{% endblock %}